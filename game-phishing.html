<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∞–±–∏—Ä–∏–Ω—Ç –§–∏—à–∏–Ω–≥–∞: –£–∑–µ–ª –ü—Ä–∞–≤–¥—ã</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>

              /* ================= –¢–û–ü-–ë–ê–† ================= */
.top-bar {
    width: 100%;
    background-color: #050911; /* —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω */
    color:  #00BCD4;           /* –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
    font-size: 25px;
    font-weight: 500;
    padding: 25px 0;
    text-align:left;
    position: fixed;          /* —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Å–≤–µ—Ä—Ö—É */
    top: 0;
    left: 0;
    z-index: 10;            /* —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}

html, body {
  height: 100%;
}
/* —á—Ç–æ–±—ã –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø—Ä—è—Ç–∞–ª—Å—è –ø–æ–¥ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–æ–ø-–±–∞—Ä–æ–º */
body {
  display: flex;
  flex-direction: column;
}

main {
  flex: 1;
}

.top-bar-container {
    max-width: 1200px; /* –º–æ–∂–Ω–æ –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —Å–∞–π—Ç–∞ */
    margin: 0 auto;
    padding: 0 15px;
}

/* ===== –ë–£–†–ì–ï–† ===== */
.burger {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 30px;
  cursor: pointer;
  z-index: 1001;
}

.burger span {
  display: block;
  height: 3px;
  background: #00BCD4;
  margin: 6px 0;
  transition: 0.3s;
}

/* ===== TOP BAR –° –ú–ï–ù–Æ ===== */
.top-bar-flex {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.top-bar-title {
   text-transform: uppercase;     /* –ö–ê–ü–° */
  font-size: 22px;               /* –±–æ–ª—å—à–µ */
  font-weight: 600;
  letter-spacing: 1.2px;         /* –∫–∞–∫ —É –≤–∫–ª–∞–¥–æ–∫ */
}

/* –º–µ–Ω—é —Å–ø—Ä–∞–≤–∞ */
.top-nav--bar {
  display: flex;
  gap: 25px;
}

.top-nav--bar a {
  font-size: 15px;
  color: #8FA3BF;
  text-decoration: none;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
}

.top-nav--bar a::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 0;
  height: 2px;
  background: #00BCD4;
  transition: 0.3s;
}

.top-nav--bar a:hover {
  color: #EAF2FF;
}

.top-nav--bar a:hover::after {
  width: 100%;
}

/* üì± –¢–ï–õ–ï–§–û–ù ‚Äî –¢–û–õ–¨–ö–û –¢–ï–ö–°–¢ */
@media (max-width: 768px) {
  .top-nav--bar {
    display: none;
  }
}

/* === –°–∫—Ä—ã–≤–∞–µ–º –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ –ü–ö === */
.burger-menu,
.burger-overlay {
  display: none;
}

/* === –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±—É—Ä–≥–µ—Ä –∏ overlay —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö === */
@media (min-width: 1024px) {
  .burger {
    display: none; /* –∫–Ω–æ–ø–∫–∞ –±—É—Ä–≥–µ—Ä */
    z-index: 10000; /* —á—Ç–æ–±—ã –±—ã—Ç—å –Ω–∞–¥ —à–∞–ø–∫–æ–π */
  }

/* ===== –ú–ï–ù–Æ ===== */
.burger-menu {
  position: fixed;
  top: 0;
  right: -320px;
  width: 320px;
  height: 100%;
  background: #0B1220;
  padding: 80px 30px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  transform: translateX(100%);
  transition: right 0.3s ease;
  z-index: 9999;
}

.burger-menu a {
  color: #EAF2FF;
  text-decoration: none;
  font-size: 18px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  padding-bottom: 10px;
}

.burger-menu.active {
    transform: translateX(0);
  right: 0;
}

/* –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
.burger-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  z-index: 9998;
}

.burger-overlay.active {
  display: block;
}
}


        :root {
            --neon-cyan: #00ffff;
            --neon-green: #00ffaa;
            --neon-red: #ff4444;
            --bg-dark: #000a0a;
        }

        body {
            margin: 70px;
            background: var(--bg-dark);
            color: var(--neon-cyan);
            font-family: 'Montserrat', sans-serif;
            overflow-y: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #game-wrapper {
            position: relative;
            border: 2px solid var(--neon-cyan);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        canvas { display: block; background: #000; }

        /* –¢–∞–±–ª–∏—á–∫–∞ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ —ç–∫—Ä–∞–Ω—ã */
        .overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 5, 5, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            z-index: 10;
        }

        .terminal-text {
            font-family: 'Share Tech Mono', monospace;
            color: var(--neon-green);
            margin-bottom: 20px;
            max-width: 500px;
            line-height: 1.5;
        }

        .cyber-btn {
            background: transparent;
            border: 1px solid var(--neon-cyan);
            color: var(--neon-cyan);
            padding: 15px 30px;
            font-family: 'Share Tech Mono', monospace;
            cursor: pointer;
            text-transform: uppercase;
            transition: 0.3s;
        }

        .cyber-btn:hover {
            background: var(--neon-cyan);
            color: #000;
            box-shadow: 0 0 20px var(--neon-cyan);
        }

        /* –û–∫–Ω–æ –≤–æ–ø—Ä–æ—Å–∞ */
        #quiz-overlay {
            display: none;
            background: rgba(0, 20, 20, 0.98);
            border: 2px solid var(--neon-green);
        }

        .quiz-option {
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid var(--neon-cyan);
            color: #fff;
            padding: 15px;
            margin: 10px;
            width: 80%;
            cursor: pointer;
            font-family: 'Share Tech Mono', monospace;
            transition: 0.2s;
        }

        .quiz-option:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: #fff;
        }

        .hidden { display: none !important; }
        
        .hud {
            position: absolute;
            top: 10px; left: 10px;
            font-family: 'Share Tech Mono', monospace;
            pointer-events: none;
        }
    </style>
</head>
<body>

     <!-- –¢–û–ü-–ë–ê–† (—Ç–æ—Ç –∂–µ —Å–∞–º—ã–π) -->
<div class="top-bar">
  <div class="top-bar-container top-bar-flex">
    <div class="top-bar-title">
      –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ú—É–∑–µ–π –ö–∏–±–µ—Ä–∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
    </div>

    <nav class="top-nav top-nav--bar">
      <a href="library.html">–í–∏–¥–µ–æ–±–∏–±–ª–∏–æ—Ç–µ–∫–∞</a>
      <a href="games.html">–ö–∏–±–µ—Ä–ø–æ–ª–∏–≥–æ–Ω</a>
      <a href="index.html">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </nav>
  </div>
</div>

    <div id="game-wrapper">
        <div class="hud">–£–†–û–í–ï–ù–¨: <span id="lvl-val">1</span> | –ñ–ò–ó–ù–ò: <span id="hp-val">3</span></div>
        
        <canvas id="gameCanvas" width="600" height="600"></canvas>

        <div id="start-screen" class="overlay">
            <h1 style="color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan);">–õ–ê–ë–ò–†–ò–ù–¢ –§–ò–®–ò–ù–ì–ê</h1>
            <div class="terminal-text">
                > –¶–ï–õ–¨: –î–æ–π—Ç–∏ –¥–æ –≤—ã—Ö–æ–¥–∞ (–∑–µ–ª–µ–Ω—ã–π –ø–æ—Ä—Ç–∞–ª).<br>
                > –ü–†–ï–ì–†–ê–î–´: –ö—Ä–∞—Å–Ω—ã–µ –±–æ—Ç—ã-—Å–∫–∞–Ω–µ—Ä—ã –æ—Ç–Ω–∏–º–∞—é—Ç —ç–Ω–µ—Ä–≥–∏—é.<br>
                > –ó–ê–ú–ö–ò: –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å, –∫–æ—Å–Ω–∏—Å—å –∂–µ–ª—Ç–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏ –≤—ã–±–µ—Ä–∏ –ë–ï–ó–û–ü–ê–°–ù–£–Æ —Å—Å—ã–ª–∫—É –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ.<br>
                > –£–ü–†–ê–í–õ–ï–ù–ò–ï: –°–¢–†–ï–õ–ö–ò –∏–ª–∏ WASD.
            </div>
            <button class="cyber-btn" onclick="startGame()">–ó–ê–ü–£–°–¢–ò–¢–¨ –ü–†–û–¢–û–ö–û–õ</button>
        </div>

        <div id="quiz-overlay" class="overlay">
            <h2 id="quiz-title" style="color: var(--neon-green);">–ü–†–û–í–ï–†–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò</h2>
            <p id="quiz-question" class="terminal-text">–í—ã–±–µ—Ä–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞–¥—Ä–µ—Å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É:</p>
            <div id="options-container"></div>
        </div>

        <div id="end-screen" class="overlay hidden">
            <h1 id="end-title">–°–ò–°–¢–ï–ú–ê –°–ö–û–ú–ü–†–û–ú–ï–¢–ò–†–û–í–ê–ù–ê</h1>
            <p id="end-msg" class="terminal-text"></p>
            <button class="cyber-btn" onclick="location.reload()">–ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ê</button>
        </div>
    </div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const TILE_SIZE = 40;
    const COLS = canvas.width / TILE_SIZE;
    const ROWS = canvas.height / TILE_SIZE;

    let player = { x: 1, y: 1, hp: 3 };
    let level = 1;
    let gameActive = false;
    let enemies = [];
    let terminals = [];
    let doorOpen = false;

    // –î–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å–æ–≤
    const quizData = [
        { q: "–ü—Ä–∏—à–ª–æ –ø–∏—Å—å–º–æ –æ—Ç 'Security-PayPal'. –ö—É–¥–∞ –Ω–∞–∂–º–µ—Ç–µ?", a: "–ü—Ä–æ–≤–µ—Ä—é –∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è", b: "–°—Ä–æ—á–Ω–æ –Ω–∞–∂–º—É '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø'", correct: 'a' },
        { q: "–ö–∞–∫–æ–π URL –Ω–∞—Å—Ç–æ—è—â–∏–π?", a: "accounts.google.com", b: "accounts-google.security-update.io", correct: 'a' },
        { q: "–í–∞–º –ø—Ä–∏—Å–ª–∞–ª–∏ —Ñ–∞–π–ª 'invoice.exe'. –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è?", a: "–û—Ç–∫—Ä–æ—é, –≤–¥—Ä—É–≥ —ç—Ç–æ —Å—á–µ—Ç", b: "–£–¥–∞–ª—é —Ñ–∞–π–ª –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—è", correct: 'b' },
        { q: "–ö–æ–ª–ª–µ–≥–∞ –ø—Ä–∏—Å–ª–∞–ª —Å—Å—ã–ª–∫—É –≤ Telegram: '–ì–ª—è–Ω—å —Å–≤–æ–∏ —Ñ–æ—Ç–æ'.", a: "–°–ø—Ä–æ—à—É –∫–æ–ª–ª–µ–≥—É –ª–∏—á–Ω–æ, –ø—Ä–∏—Å—ã–ª–∞–ª –ª–∏ –æ–Ω —ç—Ç–æ", b: "–ü–µ—Ä–µ–π–¥—É, —ç—Ç–æ –∂–µ –∫–æ–ª–ª–µ–≥–∞", correct: 'a' }
    ];

    // –ö–∞—Ä—Ç–∞ (1 - —Å—Ç–µ–Ω–∞, 0 - –ø–æ–ª, 2 - —Ç–µ—Ä–º–∏–Ω–∞–ª, 3 - –≤—ã—Ö–æ–¥)
    let maze = [
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        [1,0,0,0,1,0,0,0,0,0,0,1,0,3,1],
        [1,0,1,0,1,0,1,1,1,1,0,1,0,1,1],
        [1,0,1,0,0,0,0,0,0,1,0,0,0,0,1],
        [1,0,1,1,1,1,1,1,0,1,1,1,1,0,1],
        [1,0,0,0,0,0,2,1,0,0,0,0,1,0,1],
        [1,1,1,1,1,1,1,1,0,1,1,0,1,0,1],
        [1,0,0,0,0,0,0,0,0,1,0,0,1,0,1],
        [1,0,1,1,1,1,1,1,1,1,0,1,1,0,1],
        [1,0,1,0,0,0,0,0,0,0,0,0,0,0,1],
        [1,0,1,0,1,1,1,1,1,1,1,1,1,1,1],
        [1,0,1,0,1,0,0,0,0,0,0,0,0,0,1],
        [1,0,0,0,1,0,1,1,1,1,1,1,1,0,1],
        [1,0,1,0,0,0,0,0,0,0,0,0,0,0,1],
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ];

    function startGame() {
        document.getElementById('start-screen').classList.add('hidden');
        gameActive = true;
        spawnEnemies();
        requestAnimationFrame(gameLoop);
    }

    function spawnEnemies() {
        enemies = [
            { x: 5, y: 3, dx: 1, dy: 0 },
            { x: 10, y: 7, dx: 0, dy: 1 },
            { x: 2, y: 13, dx: 1, dy: 0 }
        ];
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        for (let r = 0; r < ROWS; r++) {
            for (let c = 0; c < COLS; c++) {
                let x = c * TILE_SIZE;
                let y = r * TILE_SIZE;

                if (maze[r][c] === 1) {
                    ctx.fillStyle = '#002222';
                    ctx.fillRect(x, y, TILE_SIZE, TILE_SIZE);
                    ctx.strokeStyle = varColor('--neon-cyan');
                    ctx.strokeRect(x, y, TILE_SIZE, TILE_SIZE);
                } else if (maze[r][c] === 2) {
                    ctx.fillStyle = doorOpen ? '#004400' : '#ffff00';
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = '#ffff00';
                    ctx.fillRect(x+10, y+10, 20, 20);
                    ctx.shadowBlur = 0;
                } else if (maze[r][c] === 3) {
                    ctx.fillStyle = '#00ff00';
                    ctx.shadowBlur = 15;
                    ctx.shadowColor = '#00ff00';
                    ctx.fillRect(x+5, y+5, 30, 30);
                    ctx.shadowBlur = 0;
                }
            }
        }

        // –ò–≥—Ä–æ–∫
        ctx.fillStyle = varColor('--neon-cyan');
        ctx.shadowBlur = 10;
        ctx.shadowColor = varColor('--neon-cyan');
        ctx.fillRect(player.x * TILE_SIZE + 8, player.y * TILE_SIZE + 8, 24, 24);
        ctx.shadowBlur = 0;

        // –í—Ä–∞–≥–∏
        enemies.forEach(en => {
            ctx.fillStyle = varColor('--neon-red');
            ctx.beginPath();
            ctx.arc(en.x * TILE_SIZE + 20, en.y * TILE_SIZE + 20, 12, 0, Math.PI * 2);
            ctx.fill();
        });
    }

    function update() {
        if (!gameActive) return;

        // –î–≤–∏–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤
        if (Math.random() < 0.05) {
            enemies.forEach(en => {
                let nextX = en.x + en.dx;
                let nextY = en.y + en.dy;
                if (maze[nextY][nextX] !== 1) {
                    en.x = nextX;
                    en.y = nextY;
                } else {
                    en.dx *= -1;
                    en.dy *= -1;
                }
                
                // –ö–æ–ª–ª–∏–∑–∏—è —Å –∏–≥—Ä–æ–∫–æ–º
                if (en.x === player.x && en.y === player.y) {
                    player.hp--;
                    updateHUD();
                    player.x = 1; player.y = 1; // –†–µ—Å–ø–∞—É–Ω
                    if (player.hp <= 0) endGame(false);
                }
            });
        }
    }

    function handleInput(e) {
        if (!gameActive) return;
        let nextX = player.x;
        let nextY = player.y;

        if (e.key === 'ArrowUp' || e.key === 'w') nextY--;
        if (e.key === 'ArrowDown' || e.key === 's') nextY++;
        if (e.key === 'ArrowLeft' || e.key === 'a') nextX--;
        if (e.key === 'ArrowRight' || e.key === 'd') nextX++;

        if (maze[nextY][nextX] === 1) return;
        
        // –ï—Å–ª–∏ –≤—ã—Ö–æ–¥
        if (maze[nextY][nextX] === 3) {
            if (doorOpen) endGame(true);
            else alert("–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏—à–∏–Ω–≥-–∑–∞–º–æ–∫ (–∂–µ–ª—Ç—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)!");
            return;
        }

        // –ï—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª
        if (maze[nextY][nextX] === 2) {
            startQuiz();
            return;
        }

        player.x = nextX;
        player.y = nextY;
    }

    function startQuiz() {
        gameActive = false;
        const quiz = quizData[Math.floor(Math.random() * quizData.length)];
        const overlay = document.getElementById('quiz-overlay');
        const container = document.getElementById('options-container');
        
        document.getElementById('quiz-question').innerText = quiz.q;
        container.innerHTML = '';
        overlay.style.display = 'flex';

        const createOpt = (text, id) => {
            const btn = document.createElement('div');
            btn.className = 'quiz-option';
            btn.innerText = text;
            btn.onclick = () => {
                if (id === quiz.correct) {
                    doorOpen = true;
                    overlay.style.display = 'none';
                    gameActive = true;
                    alert("–î–û–°–¢–£–ü –†–ê–ó–†–ï–®–ï–ù. –í–æ—Ä–æ—Ç–∞ –≤—ã—Ö–æ–¥–∞ –æ—Ç–∫—Ä—ã—Ç—ã.");
                } else {
                    player.hp--;
                    updateHUD();
                    overlay.style.display = 'none';
                    gameActive = true;
                    alert("–û–®–ò–ë–ö–ê! –§–∏—à–∏–Ω–≥–æ–≤–∞—è –∞—Ç–∞–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ. –≠–Ω–µ—Ä–≥–∏—è —Å–Ω–∏–∂–µ–Ω–∞.");
                    if(player.hp <= 0) endGame(false);
                }
            };
            container.appendChild(btn);
        };

        createOpt(quiz.a, 'a');
        createOpt(quiz.b, 'b');
    }

    function endGame(win) {
        gameActive = false;
        const screen = document.getElementById('end-screen');
        screen.classList.remove('hidden');
        document.getElementById('end-title').innerText = win ? "–°–ò–°–¢–ï–ú–ê –ó–ê–©–ò–©–ï–ù–ê" : "–°–ò–°–¢–ï–ú–ê –°–ö–û–ú–ü–†–û–ú–ï–¢–ò–†–û–í–ê–ù–ê";
        document.getElementById('end-title').style.color = win ? 'var(--neon-green)' : 'var(--neon-red)';
        document.getElementById('end-msg').innerText = win ? 
            "–í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ —á–µ—Ä–µ–∑ –ª–∞–±–∏—Ä–∏–Ω—Ç —É–≥—Ä–æ–∑ –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏." : 
            "–§–∏—à–∏–Ω–≥-–∞—Ç–∞–∫–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∏–ª–∏ –≤–∞—à —É–∑–µ–ª. –•–∞–∫–µ—Ä—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É.";
    }

    function updateHUD() {
        document.getElementById('hp-val').innerText = player.hp;
        document.getElementById('lvl-val').innerText = level;
    }

    function varColor(name) {
        return getComputedStyle(document.documentElement).getPropertyValue(name).trim();
    }

    function gameLoop() {
        update();
        draw();
        if (gameActive || !gameActive) requestAnimationFrame(gameLoop);
    }

    window.addEventListener('keydown', handleInput);
</script>
</body>
</html>
